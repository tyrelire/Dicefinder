{% extends 'base.html.twig' %}

{% block title %}GroupeJDR Index{% endblock %}

{% block body %}
<div class="container mx-auto p-6 mt-20">
    <!-- Title -->
    <h1 class="text-4xl font-bold mb-6 text-gray-900">Explorer les univers</h1>

    <!-- Search Bar -->
    <div class="mb-12">
        <input type="text" placeholder="Rechercher un univers..." class="w-full p-4 text-lg border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring focus:ring-blue-300" />
    </div>

    <!-- Partie Populaire Section -->
    <div class="container mx-auto flex flex-col mt-12">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-bold text-gray-800">Partie Populaire</h2>
            <div class="flex items-center gap-2">
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md">Med Fan</button>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md">Sci Fi</button>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md">Post-Apo</button>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md">Western</button>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md">Animé</button>
                <div class="relative">
                    <button id="more-categories-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md">Plus</button>
                    <select id="more-categories" class="absolute left-0 mt-2 hidden bg-gray-800 text-white rounded-md">
                        <option disabled selected>Sélectionner...</option>
                        <option>Horreur</option>
                        <option>Fantastique</option>
                        <option>Steampunk</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Cards Section (using loop) -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {% for groupe_j_d_r in groupe_j_d_rs %}
                <div class="bg-gray-800 rounded-lg shadow-md p-6 pb-5 text-white w-full">
                    <img src="{{ groupe_j_d_r.picture }}" alt="Image de {{ groupe_j_d_r.title }}" class="rounded-lg mb-4 w-full h-[20rem] object-cover">
                    <div class="flex justify-between items-center">
                        <span class="font-semibold">{{ groupe_j_d_r.title }}</span>
                        <a href="{{ path('app_groupe_j_d_r_show', {'id': groupe_j_d_r.id}) }}" class="bg-blue-600 text-white px-2 py-1 rounded text-xs">GO</a>
                    </div>
                    <div class="text-gray-400 text-sm mb-2">
                        <strong>Created at:</strong> {{ groupe_j_d_r.createdAt ? groupe_j_d_r.createdAt|date('Y-m-d H:i:s') : 'N/A' }}
                    </div>
                    <div class="text-gray-400 text-sm mb-4">
                        <strong>Last edited:</strong> {{ groupe_j_d_r.editAt ? groupe_j_d_r.editAt|date('Y-m-d H:i:s') : 'N/A' }}
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <div class="flex items-center">
                            <img src="https://via.placeholder.com/30" alt="MJ photo" class="rounded h-8 w-8 object-cover">
                            <div class="ml-2">
                                <p class="text-xs text-gray-400">MJ</p>
                                <p class="text-xs text-white">{{ groupe_j_d_r.owner ? groupe_j_d_r.owner.firstName : 'N/A' }}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-400">Places disponibles</p>
                            <p class="text-lg font-bold text-white">{{ groupe_j_d_r.maxPlayer }}</p>
                        </div>
                    </div>
                </div>
            {% else %}
                <p class="text-gray-700 text-lg">No records found</p>
            {% endfor %}
        </div>
    </div>

    <div class="container mx-auto mt-8 text-center">
        <a href="{{ path('app_groupe_j_d_r_new') }}" class="inline-block rounded-md bg-green-600 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-green-500">Créer un nouveau groupe</a>
    </div>

</div>
{% endblock %}
